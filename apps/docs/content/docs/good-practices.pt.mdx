---
title: Boas Pr√°ticas  
icon: HiCheckCircle  
---  

<div className="w-full flex items-center justify-center"><span className="text-4xl font-bold">üë∑‚Äç‚ôÇÔ∏è Boas Pr√°ticas para Monkey Patching</span></div>  

Monkey patching √© uma **ferramenta poderosa**, mas com grande poder vem grande responsabilidade! üï∑Ô∏è 
Aqui est√£o algumas **melhores pr√°ticas** para garantir que seus patches sejam seguros, f√°ceis de manter e eficazes.  

---

## Use com Modera√ß√£o  
Monkey patching deve ser um √∫ltimo recurso, n√£o uma solu√ß√£o padr√£o. Sempre considere alternativas como:  
- **Wrappers:** Crie uma fun√ß√£o ou classe que envolva o c√≥digo original.  
- **Middleware:** Use padr√µes de middleware para estender funcionalidades.  
- **Pull Requests:** Contribua com corre√ß√µes ou melhorias diretamente na biblioteca.  

**Por qu√™?** O uso excessivo de patches pode tornar o c√≥digo dif√≠cil de manter e depurar.  

## Documente seus Patches  
- **Por que** o patch foi aplicado.  
- **O que** o patch faz.  
- **Quando** ele foi adicionado e por quem.  

### Exemplo:  
```typescript title="fix.ts"
import { patch } from "tusk";

const MathHelper = {
    add(num: number, num2: number) {
        return num - num2
    }
}

/**
 * Patch: Corrige subtra√ß√£o incorreta no MathHelper.add  
 * Motivo: O m√©todo original subtrai em vez de somar.  
 * Autor: Jo√£o Silva  
 * Data: 2025-28-2  
 */
patch(MathHelper, "add", function(_original, a, b) {
    return a + b
});
```  

## Teste Rigorosamente  
- **Isole os Patches:** Teste cada patch individualmente para garantir que funcione como esperado.  
- **Casos Limite:** Teste com valores extremos para evitar comportamentos inesperados.  
- **Testes de Integra√ß√£o:** Verifique se o patch n√£o quebra outras partes do c√≥digo.  

**Por qu√™?** Patches podem introduzir bugs sutis e dif√≠ceis de detectar.  

## Desfa√ßa o Patch Quando N√£o For Mais Necess√°rio  
Sempre restaure o comportamento original quando o patch n√£o for mais necess√°rio.  
Use o m√©todo `unpatch` da Tusk para limpar.  

```ts title="unpatch.ts"
import { patch } from "tusk";

// Aplica o patch
patch(Array.prototype, "flat", function (original, depth) {
    const flattened = original.call(this, depth); 
    return flattened.map(() => 0); 
});

// Desfaz o patch quando n√£o for mais necess√°rio
unpatch(Array.prototype, "flat");    
```  

## Comunique-se com Sua Equipe  
- **Code Reviews:** Discuta patches durante revis√µes de c√≥digo para garantir que sejam necess√°rios e bem implementados.  
- **Documenta√ß√£o:** Compartilhe informa√ß√µes sobre patches com sua equipe.  
- **Conven√ß√µes de Nome:** Use nomes claros para m√©todos modificados (ex.: `_patchedMethod`).  

## Evite Efeitos Colaterais  
- **Mudan√ßas Globais:** Tenha cuidado ao modificar objetos globais (ex.: `Array.prototype`).  
- **Bibliotecas de Terceiros:** Evite modificar bibliotecas externas, a menos que seja absolutamente necess√°rio.  
- **Performance:** Certifique-se de que o patch n√£o afeta negativamente o desempenho.  

---

**üß† Dica Pro** ‚ï∫‚ï∏ Documente cada patch e seu prop√≥sito‚Äîseu futuro eu (e sua equipe) v√£o agradecer!